## API Report File for "daf-selective-disclosure"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
import { AbstractMessageHandler } from 'daf-message-handler'
import { IAgentContext } from 'daf-core'
import { IAgentPlugin } from 'daf-core'
import { ICredentialIssuer } from 'daf-w3c'
import { IDataStoreORM } from 'daf-typeorm'
import { IIdentityManager } from 'daf-core'
import { IKeyManager } from 'daf-core'
import { IMessageHandler } from 'daf-core'
import { IPluginMethodMap } from 'daf-core'
import { Message } from 'daf-message-handler'
import { VerifiableCredential } from 'daf-core'
import { VerifiablePresentation } from 'daf-core'

// @beta
export interface ICreateProfileCredentialsArgs {
  holder: string
  name?: string
  picture?: string
  save: boolean
  send: boolean
  url?: string
  verifier?: string
}

// @beta
export interface ICreateSelectiveDisclosureRequestArgs {
  // (undocumented)
  data: ISelectiveDisclosureRequest
}

// @beta
export interface ICredentialRequestInput {
  claimType: string
  claimValue?: string
  credentialContext?: string
  credentialType?: string
  essential?: boolean
  issuers?: Issuer[]
  reason?: string
}

// @beta
export interface ICredentialsForSdr extends ICredentialRequestInput {
  // (undocumented)
  credentials: VerifiableCredential[]
}

// @beta
export interface IGetVerifiableCredentialsForSdrArgs {
  did?: string
  sdr: Omit<ISelectiveDisclosureRequest, 'issuer'>
}

// @beta
export interface IPresentationValidationResult {
  // (undocumented)
  claims: ICredentialsForSdr[]
  // (undocumented)
  valid: boolean
}

// @beta
export interface ISelectiveDisclosure extends IPluginMethodMap {
  // (undocumented)
  createProfilePresentation(
    args: ICreateProfileCredentialsArgs,
    context: IAgentContext<ICredentialIssuer & IIdentityManager>,
  ): Promise<VerifiablePresentation>
  // (undocumented)
  createSelectiveDisclosureRequest(
    args: ICreateSelectiveDisclosureRequestArgs,
    context: IAgentContext<IIdentityManager & IKeyManager>,
  ): Promise<string>
  // (undocumented)
  getVerifiableCredentialsForSdr(
    args: IGetVerifiableCredentialsForSdrArgs,
    context: IAgentContext<IDataStoreORM>,
  ): Promise<Array<ICredentialsForSdr>>
  // (undocumented)
  validatePresentationAgainstSdr(
    args: IValidatePresentationAgainstSdrArgs,
    context: IAgentContext<{}>,
  ): Promise<IPresentationValidationResult>
}

// @beta
export interface ISelectiveDisclosureRequest {
  claims: ICredentialRequestInput[]
  credentials?: string[]
  issuer: string
  replyUrl?: string
  subject?: string
  // (undocumented)
  tag?: string
}

// @beta
export interface Issuer {
  did: string
  url: string
}

// @beta
export interface IValidatePresentationAgainstSdrArgs {
  // (undocumented)
  presentation: VerifiablePresentation
  // (undocumented)
  sdr: ISelectiveDisclosureRequest
}

// @beta
export const MessageTypes: {
  sdr: string
}

// @beta
export class SdrMessageHandler extends AbstractMessageHandler {
  // (undocumented)
  handle(message: Message, context: IAgentContext<IMessageHandler>): Promise<Message>
}

// @beta
export class SelectiveDisclosure implements IAgentPlugin {
  constructor()
  createProfilePresentation(
    args: ICreateProfileCredentialsArgs,
    context: IAgentContext<ICredentialIssuer & IIdentityManager>,
  ): Promise<VerifiablePresentation>
  createSelectiveDisclosureRequest(
    args: ICreateSelectiveDisclosureRequestArgs,
    context: IAgentContext<IIdentityManager & IKeyManager>,
  ): Promise<string>
  getVerifiableCredentialsForSdr(
    args: IGetVerifiableCredentialsForSdrArgs,
    context: IAgentContext<IDataStoreORM>,
  ): Promise<ICredentialsForSdr[]>
  // (undocumented)
  readonly methods: ISelectiveDisclosure
  // (undocumented)
  readonly schema: {
    components: {
      schemas: {
        ICreateProfileCredentialsArgs: {
          type: string
          properties: {
            holder: {
              type: string
              description: string
            }
            verifier: {
              type: string
              description: string
            }
            name: {
              type: string
              description: string
            }
            picture: {
              type: string
              description: string
            }
            url: {
              type: string
              description: string
            }
            save: {
              type: string
              description: string
            }
            send: {
              type: string
              description: string
            }
          }
          required: string[]
          description: string
        }
        VerifiablePresentation: {
          type: string
          properties: {
            id: {
              type: string
            }
            holder: {
              type: string
            }
            issuanceDate: {
              type: string
            }
            expirationDate: {
              type: string
            }
            '@context': {
              type: string
              items: {
                type: string
              }
            }
            type: {
              type: string
              items: {
                type: string
              }
            }
            verifier: {
              type: string
              items: {
                type: string
              }
            }
            verifiableCredential: {
              type: string
              items: {
                $ref: string
              }
            }
            proof: {
              type: string
              properties: {
                type: {
                  type: string
                }
              }
            }
          }
          required: string[]
          description: string
        }
        VerifiableCredential: {
          type: string
          properties: {
            '@context': {
              type: string
              items: {
                type: string
              }
            }
            id: {
              type: string
            }
            type: {
              type: string
              items: {
                type: string
              }
            }
            issuer: {
              type: string
              properties: {
                id: {
                  type: string
                }
              }
              required: string[]
            }
            issuanceDate: {
              type: string
            }
            expirationDate: {
              type: string
            }
            credentialSubject: {
              type: string
              properties: {
                id: {
                  type: string
                }
              }
            }
            credentialStatus: {
              type: string
              properties: {
                id: {
                  type: string
                }
                type: {
                  type: string
                }
              }
              required: string[]
            }
            proof: {
              type: string
              properties: {
                type: {
                  type: string
                }
              }
            }
          }
          required: string[]
          description: string
        }
        ICreateSelectiveDisclosureRequestArgs: {
          type: string
          properties: {
            data: {
              $ref: string
            }
          }
          required: string[]
          description: string
        }
        ISelectiveDisclosureRequest: {
          type: string
          properties: {
            issuer: {
              type: string
              description: string
            }
            subject: {
              type: string
              description: string
            }
            replyUrl: {
              type: string
              description: string
            }
            tag: {
              type: string
            }
            claims: {
              type: string
              items: {
                $ref: string
              }
              description: string
            }
            credentials: {
              type: string
              items: {
                type: string
              }
              description: string
            }
          }
          required: string[]
          description: string
        }
        ICredentialRequestInput: {
          type: string
          properties: {
            reason: {
              type: string
              description: string
            }
            essential: {
              type: string
              description: string
            }
            credentialType: {
              type: string
              description: string
            }
            credentialContext: {
              type: string
              description: string
            }
            claimType: {
              type: string
              description: string
            }
            claimValue: {
              type: string
              description: string
            }
            issuers: {
              type: string
              items: {
                $ref: string
              }
              description: string
            }
          }
          required: string[]
          description: string
        }
        Issuer: {
          type: string
          properties: {
            did: {
              type: string
              description: string
            }
            url: {
              type: string
              description: string
            }
          }
          required: string[]
          description: string
        }
        IGetVerifiableCredentialsForSdrArgs: {
          type: string
          properties: {
            sdr: {
              type: string
              properties: {
                subject: {
                  type: string
                  description: string
                }
                replyUrl: {
                  type: string
                  description: string
                }
                tag: {
                  type: string
                }
                claims: {
                  type: string
                  items: {
                    $ref: string
                  }
                  description: string
                }
                credentials: {
                  type: string
                  items: {
                    type: string
                  }
                  description: string
                }
              }
              required: string[]
              description: string
            }
            did: {
              type: string
              description: string
            }
          }
          required: string[]
          description: string
        }
        ICredentialsForSdr: {
          type: string
          properties: {
            reason: {
              type: string
              description: string
            }
            essential: {
              type: string
              description: string
            }
            credentialType: {
              type: string
              description: string
            }
            credentialContext: {
              type: string
              description: string
            }
            claimType: {
              type: string
              description: string
            }
            claimValue: {
              type: string
              description: string
            }
            issuers: {
              type: string
              items: {
                $ref: string
              }
              description: string
            }
            credentials: {
              type: string
              items: {
                $ref: string
              }
            }
          }
          required: string[]
          description: string
        }
        IValidatePresentationAgainstSdrArgs: {
          type: string
          properties: {
            presentation: {
              $ref: string
            }
            sdr: {
              $ref: string
            }
          }
          required: string[]
          description: string
        }
        IPresentationValidationResult: {
          type: string
          properties: {
            valid: {
              type: string
            }
            claims: {
              type: string
              items: {
                $ref: string
              }
            }
          }
          required: string[]
          description: string
        }
      }
      methods: {
        createProfilePresentation: {
          description: string
          arguments: {
            $ref: string
          }
          returnType: {
            $ref: string
          }
        }
        createSelectiveDisclosureRequest: {
          description: string
          arguments: {
            $ref: string
          }
          returnType: {
            type: string
          }
        }
        getVerifiableCredentialsForSdr: {
          description: string
          arguments: {
            $ref: string
          }
          returnType: {
            type: string
            items: {
              $ref: string
            }
          }
        }
        validatePresentationAgainstSdr: {
          description: string
          arguments: {
            $ref: string
          }
          returnType: {
            $ref: string
          }
        }
      }
    }
  }
  validatePresentationAgainstSdr(
    args: IValidatePresentationAgainstSdrArgs,
    context: IAgentContext<{}>,
  ): Promise<IPresentationValidationResult>
}
```
