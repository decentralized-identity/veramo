## API Report File for "daf-typeorm"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { AbstractIdentityStore } from 'daf-identity-manager';
import { AbstractKeyStore } from 'daf-key-manager';
import { AbstractSecretBox } from 'daf-key-manager';
import { BaseEntity } from 'typeorm';
import { Connection } from 'typeorm';
import { IAgentPlugin } from 'daf-core';
import { IDataStore } from 'daf-core';
import { IIdentity } from 'daf-core';
import { IKey } from 'daf-core';
import { IMessage } from 'daf-core';
import { IPluginMethodMap } from 'daf-core';
import { VerifiableCredential } from 'daf-core';
import { VerifiablePresentation } from 'daf-core';

// @public (undocumented)
export class Claim extends BaseEntity {
    // (undocumented)
    context: string[];
    // (undocumented)
    credential: Credential_2;
    // (undocumented)
    credentialType: string[];
    // (undocumented)
    expirationDate?: Date;
    // (undocumented)
    hash: string;
    // (undocumented)
    isObj: boolean;
    // (undocumented)
    issuanceDate: Date;
    // (undocumented)
    issuer: Identity;
    // (undocumented)
    subject?: Identity;
    // (undocumented)
    type: string;
    // (undocumented)
    value: string;
}

// @public (undocumented)
class Credential_2 extends BaseEntity {
    // (undocumented)
    claims: Claim[];
    // (undocumented)
    context: string[];
    // (undocumented)
    expirationDate?: Date;
    // (undocumented)
    hash: string;
    // (undocumented)
    id?: string;
    // (undocumented)
    issuanceDate: Date;
    // (undocumented)
    issuer: Identity;
    // (undocumented)
    messages: Message[];
    // (undocumented)
    presentations: Presentation[];
    set raw(raw: VerifiableCredential);
    // (undocumented)
    get raw(): VerifiableCredential;
    // (undocumented)
    subject?: Identity;
    // (undocumented)
    type: string[];
}

export { Credential_2 as Credential }

// @public (undocumented)
export class DataStore implements IAgentPlugin {
    constructor(dbConnection: Promise<Connection>);
    // (undocumented)
    dataStoreSaveMessage(args: IMessage): Promise<boolean>;
    // (undocumented)
    dataStoreSaveVerifiableCredential(args: VerifiableCredential): Promise<boolean>;
    // (undocumented)
    dataStoreSaveVerifiablePresentation(args: VerifiablePresentation): Promise<boolean>;
    // (undocumented)
    readonly methods: IDataStore;
}

// @public (undocumented)
export class DataStoreORM implements IAgentPlugin {
    constructor(dbConnection: Promise<Connection>);
    // Warning: (ae-forgotten-export) The symbol "IContext" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    dataStoreORMGetIdentities(args: FindArgs<TIdentitiesColumns>, context: IContext): Promise<IIdentity[]>;
    // (undocumented)
    dataStoreORMGetIdentitiesCount(args: FindArgs<TIdentitiesColumns>, context: IContext): Promise<number>;
    // (undocumented)
    dataStoreORMGetMessages(args: FindArgs<TMessageColumns>, context: IContext): Promise<IMessage[]>;
    // (undocumented)
    dataStoreORMGetMessagesCount(args: FindArgs<TMessageColumns>, context: IContext): Promise<number>;
    // (undocumented)
    dataStoreORMGetVerifiableCredentials(args: FindArgs<TCredentialColumns>, context: IContext): Promise<VerifiableCredential[]>;
    // (undocumented)
    dataStoreORMGetVerifiableCredentialsByClaims(args: FindArgs<TClaimsColumns>, context: IContext): Promise<VerifiableCredential[]>;
    // (undocumented)
    dataStoreORMGetVerifiableCredentialsByClaimsCount(args: FindArgs<TClaimsColumns>, context: IContext): Promise<number>;
    // (undocumented)
    dataStoreORMGetVerifiableCredentialsCount(args: FindArgs<TCredentialColumns>, context: IContext): Promise<number>;
    // (undocumented)
    dataStoreORMGetVerifiablePresentations(args: FindArgs<TPresentationColumns>, context: IContext): Promise<VerifiablePresentation[]>;
    // (undocumented)
    dataStoreORMGetVerifiablePresentationsCount(args: FindArgs<TPresentationColumns>, context: IContext): Promise<number>;
    // (undocumented)
    readonly methods: IDataStoreORM;
    }

// @public (undocumented)
export const Entities: (typeof Identity | typeof Key | typeof Service | typeof Message | typeof Claim | typeof Credential_2 | typeof Presentation)[];

// @public (undocumented)
export interface FindArgs<TColumns> {
    // (undocumented)
    order?: Order<TColumns>[];
    // (undocumented)
    skip?: number;
    // (undocumented)
    take?: number;
    // (undocumented)
    where?: Where<TColumns>[];
}

// @public (undocumented)
export type FindClaimsArgs = FindArgs<TClaimsColumns>;

// @public (undocumented)
export type FindCredentialsArgs = FindArgs<TCredentialColumns>;

// @public (undocumented)
export type FindIdentitiesArgs = FindArgs<TIdentitiesColumns>;

// @public (undocumented)
export type FindMessagesArgs = FindArgs<TMessageColumns>;

// @public (undocumented)
export type FindPresentationsArgs = FindArgs<TPresentationColumns>;

// @public (undocumented)
export interface IDataStoreORM extends IPluginMethodMap {
    // (undocumented)
    dataStoreORMGetIdentities(args: FindIdentitiesArgs, context: IContext): Promise<Array<IIdentity>>;
    // (undocumented)
    dataStoreORMGetIdentitiesCount(args: FindIdentitiesArgs, context: IContext): Promise<number>;
    // (undocumented)
    dataStoreORMGetMessages(args: FindMessagesArgs, context: IContext): Promise<Array<IMessage>>;
    // (undocumented)
    dataStoreORMGetMessagesCount(args: FindMessagesArgs, context: IContext): Promise<number>;
    // (undocumented)
    dataStoreORMGetVerifiableCredentials(args: FindCredentialsArgs, context: IContext): Promise<Array<VerifiableCredential>>;
    // (undocumented)
    dataStoreORMGetVerifiableCredentialsByClaims(args: FindClaimsArgs, context: IContext): Promise<Array<VerifiableCredential>>;
    // (undocumented)
    dataStoreORMGetVerifiableCredentialsByClaimsCount(args: FindClaimsArgs, context: IContext): Promise<number>;
    // (undocumented)
    dataStoreORMGetVerifiableCredentialsCount(args: FindCredentialsArgs, context: IContext): Promise<number>;
    // (undocumented)
    dataStoreORMGetVerifiablePresentations(args: FindPresentationsArgs, context: IContext): Promise<Array<VerifiablePresentation>>;
    // (undocumented)
    dataStoreORMGetVerifiablePresentationsCount(args: FindPresentationsArgs, context: IContext): Promise<number>;
}

// @public (undocumented)
export class Identity extends BaseEntity {
    // (undocumented)
    alias?: string;
    // (undocumented)
    controllerKeyId: string;
    // (undocumented)
    did: string;
    getLatestClaimValue(dbConnection: Promise<Connection>, where: {
        type: string;
    }): Promise<string | undefined>;
    // (undocumented)
    issuedClaims: Claim[];
    // (undocumented)
    issuedCredentials: Credential_2[];
    // (undocumented)
    issuedPresentations: Presentation[];
    // (undocumented)
    keys: Key[];
    // (undocumented)
    provider: string;
    // (undocumented)
    receivedClaims: Claim[];
    // (undocumented)
    receivedCredentials: Credential_2[];
    // (undocumented)
    receivedMessages: Message[];
    // (undocumented)
    receivedPresentations: Presentation[];
    // (undocumented)
    saveDate: Date;
    // (undocumented)
    sentMessages: Message[];
    // (undocumented)
    services: Service[];
    // (undocumented)
    shortDid(): string;
    // (undocumented)
    updateDate: Date;
}

// @public (undocumented)
export class IdentityStore extends AbstractIdentityStore {
    constructor(dbConnection: Promise<Connection>);
    // (undocumented)
    delete({ did }: {
        did: string;
    }): Promise<boolean>;
    // (undocumented)
    get({ did, alias }: {
        did: string;
        alias: string;
    }): Promise<IIdentity>;
    // (undocumented)
    import(args: IIdentity): Promise<boolean>;
    // (undocumented)
    list(): Promise<IIdentity[]>;
}

// @public (undocumented)
export class Key extends BaseEntity {
    // (undocumented)
    identity: Identity;
    // (undocumented)
    kid: string;
    // (undocumented)
    kms: string;
    // (undocumented)
    meta?: Record<string, any>;
    // (undocumented)
    privateKeyHex?: string;
    // (undocumented)
    publicKeyHex: string;
    // (undocumented)
    type: KeyType_2;
}

// @public (undocumented)
export class KeyStore extends AbstractKeyStore {
    constructor(dbConnection: Promise<Connection>, secretBox?: AbstractSecretBox | undefined);
    // (undocumented)
    delete({ kid }: {
        kid: string;
    }): Promise<boolean>;
    // (undocumented)
    get({ kid }: {
        kid: string;
    }): Promise<IKey>;
    // (undocumented)
    import(args: IKey): Promise<boolean>;
    }

// @public (undocumented)
type KeyType_2 = 'Ed25519' | 'Secp256k1';

export { KeyType_2 as KeyType }

// @public (undocumented)
export class Message extends BaseEntity {
    // (undocumented)
    createdAt?: Date;
    // (undocumented)
    credentials: Credential_2[];
    // (undocumented)
    data?: any;
    // (undocumented)
    expiresAt?: Date;
    // (undocumented)
    from?: Identity;
    // (undocumented)
    id: string;
    // (undocumented)
    metaData?: MetaData[];
    // (undocumented)
    presentations: Presentation[];
    // (undocumented)
    raw?: string;
    // (undocumented)
    replyTo?: string[];
    // (undocumented)
    replyUrl?: string;
    // (undocumented)
    saveDate: Date;
    // (undocumented)
    setId(): void;
    // (undocumented)
    threadId?: string;
    // (undocumented)
    to?: Identity;
    // (undocumented)
    type: string;
    // (undocumented)
    updateDate: Date;
}

// @public (undocumented)
export interface MetaData {
    // (undocumented)
    type: string;
    // (undocumented)
    value?: string;
}

// @public (undocumented)
export const migrations: never[];

// @public (undocumented)
export interface Order<TColumns> {
    // (undocumented)
    column: TColumns;
    // (undocumented)
    direction: 'ASC' | 'DESC';
}

// @public (undocumented)
export class Presentation extends BaseEntity {
    // (undocumented)
    context: string[];
    // (undocumented)
    credentials: Credential_2[];
    // (undocumented)
    expirationDate?: Date;
    // (undocumented)
    hash: string;
    // (undocumented)
    holder: Identity;
    // (undocumented)
    id?: String;
    // (undocumented)
    issuanceDate: Date;
    // (undocumented)
    messages: Message[];
    set raw(raw: VerifiablePresentation);
    // (undocumented)
    get raw(): VerifiablePresentation;
    // (undocumented)
    type: string[];
    // (undocumented)
    verifier?: Identity[];
}

// @public (undocumented)
export class Service extends BaseEntity {
    // (undocumented)
    description?: string;
    // (undocumented)
    id: string;
    // (undocumented)
    identity: Identity;
    // (undocumented)
    serviceEndpoint: string;
    // (undocumented)
    type: string;
}

// @public (undocumented)
export type TClaimsColumns = 'context' | 'credentialType' | 'type' | 'value' | 'isObj' | 'id' | 'issuer' | 'subject' | 'expirationDate' | 'issuanceDate';

// @public (undocumented)
export type TCredentialColumns = 'context' | 'type' | 'id' | 'issuer' | 'subject' | 'expirationDate' | 'issuanceDate';

// @public (undocumented)
export type TIdentitiesColumns = 'did' | 'alias' | 'provider';

// @public (undocumented)
export type TMessageColumns = 'from' | 'to' | 'id' | 'createdAt' | 'expiresAt' | 'threadId' | 'type' | 'raw' | 'replyTo' | 'replyUrl';

// @public (undocumented)
export type TPresentationColumns = 'context' | 'type' | 'id' | 'holder' | 'verifier' | 'expirationDate' | 'issuanceDate';

// @public (undocumented)
export interface Where<TColumns> {
    // (undocumented)
    column: TColumns;
    // (undocumented)
    not?: boolean;
    // (undocumented)
    op?: 'LessThan' | 'LessThanOrEqual' | 'MoreThan' | 'MoreThanOrEqual' | 'Equal' | 'Like' | 'Between' | 'In' | 'Any' | 'IsNull';
    // (undocumented)
    value?: string[];
}


```
